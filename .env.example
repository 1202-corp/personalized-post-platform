# PostgreSQL database configuration
POSTGRES_USER=ppp_user
POSTGRES_PASSWORD=ppp_secret
POSTGRES_DB=ppp_db
POSTGRES_PORT=10306

# Main Bot - Telegram bot token from @BotFather
TELEGRAM_BOT_TOKEN=your_bot_token_here

# User Bot - Get credentials from https://my.telegram.org
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_SESSION_STRING=your_session_string
USER_BOT_PORT=10302

# MiniApp public URL for Telegram WebApp
MINIAPP_URL=https://your-domain.com
MINIAPP_PORT=10303

# ML Service URL (optional, defaults to http://ml-service:8002)
ML_SERVICE_URL=http://ml-service:8002
ML_SERVICE_PORT=10301

# Default training channels (comma-separated usernames)
DEFAULT_TRAINING_CHANNELS=@durov,@telegram

# Admin Dashboard
ADMIN_DASHBOARD_PORT=10304
ADMIN_USERNAME=superadmin
ADMIN_PASSWORD=your_secure_password_here
JWT_SECRET=your_jwt_secret_key_here
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Main Bot default interface language (en_US, ru_RU)
DEFAULT_LANGUAGE=ru_RU

# Embedding generation settings
# Use local embedding model (true) or cloud API like bothub/OpenAI (false)
USE_LOCAL_EMBEDDINGS=false

# Local embedding model URL (when USE_LOCAL_EMBEDDINGS=true)
# In Docker: use service name (http://ollama:11434/api/embeddings)
# On host machine: use localhost (http://localhost:11434/api/embeddings)
LOCAL_EMBEDDING_MODEL_URL=http://ollama:11434/api/embeddings
LOCAL_EMBEDDING_MODEL=all-minilm
OLLAMA_PORT=10308

# Cloud API settings (when USE_LOCAL_EMBEDDINGS=false)
# Bothub.chat - Russian-friendly OpenAI-compatible API
# Or use OpenAI directly: https://api.openai.com/v1
OPENAI_API_BASE=https://bothub.chat/api/v2/openai/v1
OPENAI_API_KEY=your_openai_api_key_here
EMBEDDING_MODEL=text-embedding-ada-002

# Qdrant vector database configuration
QDRANT_HOST=vector-db-qdrant
QDRANT_PORT=10309
QDRANT_GRPC_PORT=10310
QDRANT_TIMEOUT=30

# ML Service - Embedding settings
MAX_TEXT_LENGTH=8000
EMBEDDING_TIMEOUT=60.0
ERROR_TEXT_LIMIT=500

# ML Service - Training settings
MIN_INTERACTIONS_FOR_TRAINING=5
DEFAULT_SIMILARITY_THRESHOLD=0.5
DEFAULT_SCORE_THRESHOLD=0.3
CLUSTER_SEARCH_MULTIPLIER=3
CLUSTER_SEARCH_MAX_MULTIPLIER=5

# ML Service - Clustering settings
DEFAULT_N_CLUSTERS=50
MIN_POSTS_PER_CLUSTER=10
CLUSTER_SIMILARITY_THRESHOLD=0.7
KMEANS_RANDOM_STATE=42
KMEANS_N_INIT=10

# ML Service - Qdrant search settings
DISLIKE_WEIGHT=0.3

# ML Service - LLM Reranker settings
LLM_TIMEOUT=30.0
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=100
COST_PER_1K_INPUT_TOKENS=0.00015
COST_PER_1K_OUTPUT_TOKENS=0.0006

# ML Service - Database pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Service ports (external ports, internal are fixed)
API_PORT=10300
REDIS_PORT=10307